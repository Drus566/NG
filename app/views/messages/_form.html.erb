<%= form_with model: message, 
    data: {
        controller: "trix-no-upload-plugin chat-form",
        action: 'ajax:error->chat#addError'
    },
    remote: true do |f| 
%>
    <input id="<%= f.object.class.to_s.downcase %>" 
           type="hidden" 
           name="message[body]"
    >
    <trix-editor id="message_body"
                 class="trix-content"
                 data-target="chat-form.editor"
                 data-action="trix-change->chat-form#convert
                              trix-change->chat-form#showCountSymbols
                              keydown->chat-form#inputKeyword"
                 input="<%= f.object.class.to_s.downcase %>"
    >
    </trix-editor>
    <div class="chat-options">
        <div class="smiles">☺</div>
        <div class="message-info" data-target="chat-form.countSymbols">0/200</div>
        <%= f.submit "Отправить", class: 'chat-btn', id: 'chat-btn'%>
    </div>
<% end %>   