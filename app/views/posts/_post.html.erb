<div class="post-wrapper" data-controller="post" id="post-<%= post.id %>">
    <div class="post-main-wrapper">
        <div class="post-info-tags-wrapper">
            <div class="post-info-wrapper">Ⓐ <%= link_to post.user.name, post.user, class: "post-user" %>, <%= time_ago_in_words(post.created_at) %> назад</div> 
            <% if post.tags.any? %>
                <div class="post-tags-wrapper">
                    <%= render partial: 'tags/tags', collection: post.tags, as: :tag %>
                </div> 
            <% end %>
        </div>
        <div class="post-content-wrapper"><%= post.content %></div>
        <div class="post-options-likes-wrapper">
            <div class="post-options-wrapper">
                <%= link_to "Ⓟ", edit_post_path(post.id) %> 
                <%= link_to "ⓨ", post , :method => :delete, data: { :confirm => 'Вы уверены?' } %> 
                <%= link_to "Ⓚ", 
                    new_post_comment_path(post.id), 
                    remote: true,
                    data: { 
                        :action => "ajax:success->post#createCommentForm", 
                        :type => "html"
                    }
                %>
            </div>
            <%= render 'likes/likes', likeable: post %>
        </div>
    </div>
    <div data-target="post.comments" data-comments=<%= post.comments.any? %> >
        <% if post.comments.any? %>
            <%= render 'comments/comments', commentable: post %>
        <% end %>
    </div>
    <div data-target="post.form" data-form=<%= post.comments.any? ? "open" : "closed" %> >
        <% if post.comments.any? %>
            <%= render template: 'comments/new', object: @new_comment = post.comments.build %>
        <% end %>
    </div>
</div>

